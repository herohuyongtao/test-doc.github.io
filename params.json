{"name":"Ximmerse SDK for Unity3D (v1.0)","tagline":"","body":"<img style=\"float:right\" src =\"imgs/xim.png\" />\r\n\r\n<center>\r\n<h1>Ximmerse SDK for Unity3D (v1.0)</h1>\r\n</center>\r\n\r\n<!---|Document Number: \t|`<Feature Identifier>`| --->\r\n\r\n|  |  |\r\n|--------|--------|\r\n|Document Status:\t\t|Release|\r\n|Document Issue Number: \t|1.0|\r\n|Issue Date:\t\t|2015-12-01|\r\n|Security Status: \t\t|Public |\r\n|Author: \t\t\t|YouSing Huang, Yongtao Hu, Jingwen Dai|\r\n_ _ _\r\n\r\n&copy; 2015 XIMMERSE\r\nAll rights reserved\r\n\r\n**UNCONTROLLED COPY**: The master of this document is stored on an electronic database and is “write protected”; it may be altered only by authorized persons. While copies may be printed, it is not recommended. Viewing of the master electronically ensures access to the current issue. Any hardcopies taken must be regarded as uncontrolled copies.\r\n\r\n<!---**XIMMERSE CONFIDENTIAL**: The information contained in this document is the property of Ximmerse. Except as expressly authorized in writing by Ximmerse, the holder shall keep all information contained herein confidential, shall disclose the information only to its employees with a need to know, and shall protect the information from disclosure and dissemination to third parties.  Except as expressly authorized in writing by Ximmerse, the holder is granted no rights to use the information contained herein.  If you have received this document in error, please notify the sender and destroy it immediately.--->\r\n\r\n* * *\r\n**Table of Content**\r\n<ul>\r\n  <li><span class=\"title\"><a href=\"#1-release-statement\" title=\"1 Release Statement\">1 Release Statement</a></span>\r\n    <ul>\r\n      <li><span class=\"title\"><a href=\"#11-foreword\" title=\"1.1 Foreword\">1.1 Foreword</a></span></li>\r\n      <li><span class=\"title\"><a href=\"#12-test-environment\" title=\"1.2 Test Environment\">1.2 Test Environment</a></span></li>\r\n      <li><span class=\"title\"><a href=\"#13-notes\" title=\"1.3 Notes\">1.3 Notes</a></span></li>\r\n      <li><span class=\"title\"><a href=\"#14-technical-support\" title=\"1.4 Technical Support\">1.4 Technical Support</a></span></li>\r\n    </ul>\r\n  </li>\r\n  <li><span class=\"title\"><a href=\"#2-sdk-setup\" title=\"2 SDK Setup\">2 SDK Setup</a></span>\r\n    <ul>\r\n      <li><span class=\"title\"><a href=\"#21-import-resource-package\" title=\"2.1 Import Resource Package\">2.1 Import Resource Package</a></span></li>\r\n      <li><span class=\"title\"><a href=\"#22-setup-ximmerse-sdk-under-unity-vr\" title=\"2.2 Setup Ximmerse SDK under Unity VR\">2.2 Setup Ximmerse SDK under Unity VR</a></span></li>\r\n      <li><span class=\"title\"><a href=\"#23-input-setup-for-ximmerse-hardwares\" title=\"2.3 Input Setup for Ximmerse Hardwares\">2.3 Input Setup for Ximmerse Hardwares</a></span>\r\n        <ul>\r\n          <li><span class=\"title\"><a href=\"#231-stereo-camera-component\" title=\"2.3.1 Stereo Camera Component\">2.3.1 Stereo Camera Component</a></span></li>\r\n          <li><span class=\"title\"><a href=\"#232-ximmerses-joystick-x-cobra\" title=\"2.3.2 Ximmerse’s Joystick (X-COBRA)\">2.3.2 Ximmerse’s Joystick (X-COBRA)</a></span></li>\r\n          <li><span class=\"title\"><a href=\"#about-config-files\" title=\"About Config Files\">About Config Files</a></span></li>\r\n        </ul>\r\n      </li>\r\n      <li><span class=\"title\"><a href=\"#24-programming\" title=\"2.4 Programming\">2.4 Programming</a></span>\r\n        <ul>\r\n          <li><span class=\"title\"><a href=\"#241-access-axes-and-buttons\" title=\"2.4.1 Access Axes and Buttons\">2.4.1 Access Axes and Buttons</a></span></li>\r\n          <li><span class=\"title\"><a href=\"#242-access-position-and-rotation\" title=\"2.4.2 Access Position and Rotation\">2.4.2 Access Position and Rotation</a></span></li>\r\n        </ul>\r\n      </li>\r\n    </ul>\r\n  </li>\r\n  <li><span class=\"title\"><a href=\"#3-ximmersecore-namespace\" title=\"3 Ximmerse.Core Namespace\">3 Ximmerse.Core Namespace</a></span>\r\n    <ul>\r\n      <li><span class=\"title\"><a href=\"#31-overview\" title=\"3.1 Overview\">3.1 Overview</a></span></li>\r\n      <li><span class=\"title\"><a href=\"#32-brief-introduction\" title=\"3.2 Brief Introduction\">3.2 Brief Introduction</a></span></li>\r\n    </ul>\r\n  </li>\r\n  <li><span class=\"title\"><a href=\"#4-ximmersecrossinput-namespace\" title=\"4 Ximmerse.CrossInput Namespace\">4 Ximmerse.CrossInput Namespace</a></span>\r\n    <ul>\r\n      <li><span class=\"title\"><a href=\"#41-overview\" title=\"4.1 Overview\">4.1 Overview</a></span></li>\r\n      <li><span class=\"title\"><a href=\"#42-selected-classes-introduction\" title=\"4.2 Selected Classes Introduction\">4.2 Selected Classes Introduction</a></span>\r\n        <ul>\r\n          <li><span class=\"title\"><a href=\"#421-crossinputmanager\" title=\"4.2.1 CrossInputManager\">4.2.1 CrossInputManager</a></span></li>\r\n          <li><span class=\"title\"><a href=\"#422-unityinput\" title=\"4.2.2 UnityInput\">4.2.2 UnityInput</a></span></li>\r\n          <li><span class=\"title\"><a href=\"#423-handjoystick\" title=\"4.2.3 HandJoystick\">4.2.3 HandJoystick</a></span></li>\r\n        </ul>\r\n      </li>\r\n      <li><span class=\"title\"><a href=\"#43-extensions\" title=\"4.3 Extensions\">4.3 Extensions</a></span></li>\r\n    </ul>\r\n  </li>\r\n  <li><span class=\"title\"><a href=\"#5-other-namespaces\" title=\"5 Other Namespaces\">5 Other Namespaces</a></span></li>\r\n  <li><span class=\"title\"><a href=\"#6-samples\" title=\"6 Samples\">6 Samples</a></span>\r\n    <ul>\r\n      <li><span class=\"title\"><a href=\"#61-crossinputmanagergui\" title=\"6.1 CrossInputManagerGUI\">6.1 CrossInputManagerGUI</a></span></li>\r\n      <li><span class=\"title\"><a href=\"#62-handcontroller\" title=\"6.2 HandController\">6.2 HandController</a></span></li>\r\n      <li><span class=\"title\"><a href=\"#63-unitytoximmerse\" title=\"6.3 UnityToXimmerse\">6.3 UnityToXimmerse</a></span></li>\r\n      <li><span class=\"title\"><a href=\"#64-hydratoximmerse\" title=\"6.4 HydraToXimmerse\">6.4 HydraToXimmerse</a></span></li>\r\n    </ul>\r\n  </li>\r\n  <li><span class=\"title\"><a href=\"#7-developing-with-gear-vr\" title=\"7 Developing with Gear VR\">7 Developing with Gear VR</a></span>\r\n    <ul>\r\n      <li><span class=\"title\"><a href=\"#71-hardware-requirement\" title=\"7.1 Hardware Requirement\">7.1 Hardware Requirement</a></span></li>\r\n      <li><span class=\"title\"><a href=\"#72-steps\" title=\"7.2 Steps\">7.2 Steps</a></span></li>\r\n    </ul>\r\n  </li>\r\n</ul>\r\n\r\n## 1 Release Statement\r\n### 1.1 Foreword\r\n<!---As our hardware are still in the development iteration stage, this SDK should be only used for reference, i.e. it only works well with the product prototype. The purpose of this SDK is to help developers to explorer different interaction styles. Our formal SDK will be released after the shipment of Development Kit (DK v1.0). --->\r\nThis SDK is designed mainly for Unity3D Engine. In future, we will provide support for other developing environments.\r\n\r\n### 1.2 Test Environment\r\n- Operating System (OS): Windows 7 PC\r\n- Unity3D Engine Version: Unity 5.1.3f1 (32-bit)\r\n\r\n### 1.3 Notes\r\n1. This SDK does not support Linux or Mac OS X, please develop using Windows (PC).\r\n2. You can use other versions of Unity3D. However, versions 4.X are not verified or technically supported.\r\n3. It is recommended to use Versions 5.X due to its support for VR.\r\n4. In terms of compatibility or script update issues for different versions of Unity3D, it is recommended to use preprocessor macros.\r\n\r\n### 1.4 Technical Support\r\n<!--- - Contact Person: Mr. Huang --->\r\n- Email: [support@ximmerse.com](mailto:support@ximmerse.com)\r\n\r\n* * *\r\n## 2 SDK Setup\r\n### 2.1 Import Resource Package\r\n1. In an empty Unity project, click Unity menu `Assets` `-->` `Import Package` `-->` `Custom Package...`\r\n<div style=\"text-align:center\"><img src =\"imgs/Assets.png\" /></div>\r\n2. In the file selection dialog, select `Ximmerse SDK 1.0.unitypackage`.\r\n<div style=\"text-align:center\"><img src =\"imgs/FileDialog.png\" /></div>\r\n3. In `Importing package`, click `Import`.\r\n<div style=\"text-align:center\"><img src =\"imgs/ImportingPackage.png\" /></div>\r\n4. Done! There will be two folders named `Plugins` and `Ximmerse SDK` under folder `$(ProjectDir)/Assets`.\r\n<div style=\"text-align:center\"><img src =\"imgs/Project.png\" /></div>\r\n\r\n### 2.2 Setup Ximmerse SDK under Unity VR\r\n> Note: Please make sure that your Unity version supports VR mode, i.e. v5.1.0+.\r\n\r\n1. Click Unity menu `File` `-->` `Build Settings...`\r\n<div style=\"text-align:center\"><img src =\"imgs/File.png\" /></div>\r\n2. In `Build Settings`, click `Player Settings...`.\r\n<div style=\"text-align:center\"><img src =\"imgs/BuildSettings.png\" /></div>\r\n3. In `Inspector` view `-->` `Settings for PC, Mac & Linux Standalone` tab `-->` check the `Virtual Reality Supported` checkbox.\r\n<div style=\"text-align:center\"><img src =\"imgs/Settings.png\" /></div>\r\n4. Click Unity menu `File` `-->` `New Scene`, to create a scene.\r\n<div style=\"text-align:center\"><img src =\"imgs/File2.png\" /></div>\r\n5. Select `Main Camera` game object in the `Hierachy` view `-->` click Unity menu `GameObject` `-->` `Create Empty Child`, to add a child object.\r\n<div style=\"text-align:center\"><img src =\"imgs/GameObject.png\" /></div>\r\n6. Right click the added object in the `Hierachy` view `-->` `Rename`, to rename it to be `Pivot`.\r\n<div style=\"text-align:center\"><img src =\"imgs/MainCamera.png\" /></div>\r\n7. In `Project Browser` `-->` `Assets` `-->` `Ximmerse SDK` `-->` `Prefabs` `-->` `Input` `-->` drag the prefabs named `_CrossInput` to the `Hierarchy` view to instantiate it.\r\n<div style=\"text-align:center\"><img src =\"imgs/Project2.png\" /></div>\r\n8. In `Hierarchy` `-->` `_CrossInput` `-->` `_XimInput` `-->` `XimBlobTracking`.\r\n<div style=\"text-align:center\"><img src =\"imgs/Hierarchy.png\" /></div>\r\n9. In `Inspector`, change 'Pivot' key to be the transform of game object `Pivot`, which is the child game object of `Main Camera`.\r\n<div style=\"text-align:center\"><img src =\"imgs/Xim2.png\" /></div>\r\n\r\n### 2.3 Input Setup for Ximmerse Hardwares\r\n#### 2.3.1 Stereo Camera Component\r\nItem `Pose Name` under `Points` refers to the key of the corresponding `VirtualPose`.\r\n<div style=\"text-align:center\"><img src =\"imgs/Xim3.png\" /></div>\r\n\r\n#### 2.3.2 Ximmerse's Joystick (X-COBRA)\r\nIn file `$(ProjectDir)/Assets/Ximmerse SDK/Prefabs/Input/X-Cobra Alpha 0/Sensors`, there are 4 subclasses of `SensorBase`, which refers to IMU, button, trigger and axis respectively.\r\n<div style=\"text-align:center\"><img src =\"imgs/Create.png\" /></div>\r\n\r\n1. **IMU**: Item `Pose Name` refers to the key of the corresponding `VirtualPose`.\r\n\t<div style=\"text-align:center\"><img src =\"imgs/Inspector2.png\" /></div>\r\n2. **Button**: Enter edit mode by checking the `Edit Mode` checkbox in `Inspector` view. The left columns are display names (for easy editing) and right columns refer to the keys of the corresponding `VirtualButton`.\r\n\t<div style=\"text-align:center\"><img src =\"imgs/Inspector3.png\" /></div>\r\n3. **Trigger**: `Axis Name` refers to the key of the corresponding `VirtualAxis` and `Button Name` refers to the key of the corresponding `VirtualButton`.\r\n\t<div style=\"text-align:center\"><img src =\"imgs/Inspector4.png\" /></div>\r\n4. **Axis**: Enter edit mode by checking the `Edit Mode` checkbox in `Inspector` view. The left columns are display names (for easy editing) and right columns refer to the keys of the corresponding `VirtualAxis`.\r\n\t<div style=\"text-align:center\"><img src =\"imgs/Inspector5.png\" /></div>\r\n\r\n#### About Config Files\r\nThere is one config file `CrossInput.txt` under folder `$(ProjectDir)/Assets/Ximmerse SDK/Resources/Configs`, through which you can setup detailed parameters of Ximmerse hardwares after the release of Unity build applications.\r\n<div style=\"text-align:center\"><img src =\"imgs/Project3.png\" /></div>\r\n\r\nIn this SDK, there are two `MonoBehaviour` scripts, i.e. `XimBlobTracking_Usb.cs` and `DeviceBase.cs`, which use the config file. In both scripts, there are two shared keywords, i.e. `configPath` and `configSec`. `configPath` refers to the path of the config file and `configSec` refers to the referred section in the config file. Please refer [here](https://en.wikipedia.org/wiki/INI_file) to know more about the file formats of config files.\r\n\r\nIn the following two screenshots of the `Inspector` view, the red boxes highlight the setups of the config files and blue boxes highlight the fields that can be edited in the config file.\r\n<div style=\"text-align:center\">\r\n<img src =\"imgs/Xim4.png\" /> <img src =\"imgs/DeviceBase2.png\" />\r\n</div>\r\n\r\nYou can see the corresponding sections and fields in file `CrossInput.txt`.\r\n<div style=\"text-align:center\"><img src =\"imgs/CrossInput3.png\" /></div>\r\n\r\nIf you don't want to use config files, just set `configPath` to be empty and write the parameters of config files to the corresponding fields of `MonoBehaviour` script.\r\n\r\n### 2.4 Programming\r\n#### 2.4.1 Access Axes and Buttons\r\n1. Import `Ximmerse.CrossInput` namespace.\r\n\t```cpp\r\n\tusing Ximmerse.CrossInput;\r\n\t```\r\n\r\n2. Access the `Horizontal` axis of left joystick and the `Vertical` axis of right joystick.\r\n\t```cpp\r\n\tfloat left_h  =CrossInputManager.GetAxis(\"Left_Horizontal\");\r\n\tfloat right_v =CrossInputManager.GetAxis(\"Right_Vertical\");\r\n\t```\r\n\r\n\tThese information can also be obtained by `HandJoystick` as follows, which are equivalent to the above functions.\r\n\t```cpp\r\n\tfloat left_h  =HandJoystick.joysticks[0].GetAxis(\"Horizontal\");\r\n\tfloat right_v =HandJoystick.joysticks[1].GetAxis(\"Vertical\");\r\n\t```\r\n\r\n3. Access the `Fire1` button of left joystick and the `Jump` button of right joystick.\r\n\t```cpp\r\n\tif(CrossInputManager.GetButtonDown(\"Left_Fire1\")) {\r\n\t\t// Let's fire...\r\n\t}\r\n\r\n\tif(CrossInputManager.GetButtonDown(\"Right_Jump\")){\r\n\t\t// Let's jump...\r\n\t}\r\n\t```\r\nSimilarly, these information can also be obtained by `HandJoystick` as follows, which are equivalent to the above functions.\r\n\t```cpp\r\n\tif(HandJoystick.joysticks[0].GetButtonDown(\"Fire1\")){\r\n\t\t// Let's fire...\r\n\t}\r\n\r\n\tif(HandJoystick.joysticks[1].GetButtonDown(\"Jump\")){\r\n\t\t// Let's jump...\r\n\t}\r\n\t```\r\n\r\n#### 2.4.2 Access Position and Rotation\r\nTaking the sample script `HandController.cs` under folder `$(ProjectDir)/Assets/Ximmerse SDK/Scenes/Example Scripts` as an example:\r\n<div style=\"text-align:center\"><img src =\"imgs/Assets2.png\" /></div>\r\n\r\n1. Import `Ximmerse.CrossInput` namespace.\r\n\t```cpp\r\n\tusing Ximmerse.CrossInput;\r\n\t```\r\n\r\n2. Obtain the reference of `VirtualPose` by `CrossInputManager.VirtualPoseReference(poseName)`.\r\n\t```cpp\r\n\tm_Pose=CrossInputManager.VirtualPoseReference(poseName);\r\n\t```\r\n\r\n\tThe properties and fields of `VirtualPose` are as follows:\r\n\t```cpp\r\n\tpublic class VirtualPose:SmartPointer{\r\n\t\tpublic string name{\r\n\t\t\tget;\r\n\t\t\tprivate set;\r\n\t\t}\r\n\t\tpublic bool matchWithInputManager {\r\n\t\t\tget;\r\n\t\t\tprivate set;\r\n\t\t}\r\n\r\n\t\tpublic bool active=true;\r\n\t\tpublic int id;\r\n\r\n\t\tpublic Vector3 position;\r\n\t\tpublic Quaternion rotation;\r\n\r\n\t\t...\r\n\t}\r\n\t```\r\n\r\n3. Set `position` and `rotation` of `Transform` to be `position` and `rotation` of `VirtualPose` in functions like `MonoBehaviour.FixedUpdate()`.\r\n\t```cpp\r\n\t/// <summary>\r\n\t///\r\n\t/// </summary>\r\n\tprotected virtual void FixedUpdate(){\r\n\t\t//\r\n\t\tm_HandTrans.position=m_Pose.position;\r\n\t\tm_HandTrans.rotation=m_Pose.rotation;\r\n\t}\r\n\t```\r\n\r\n* * *\r\n## 3 `Ximmerse.Core` Namespace\r\n### 3.1 Overview\r\nThis namespace is used for accessing the APIs of Ximmerse's hardwares. As our beta versions are still in a fast iteration stage, there will be different versions for the supported hardware. Please pay attention to what your DK version is. Though there will be big changes for this namespace, it should be OK to use Ximmerse hardwares with general software as long as the name and address of the equipment are set properly. Note that in most cases, you will not need to access this namespace. In terms of input interfaces, you only need to access `Ximmerse.CrossInput`. You can also apply Razer's Hydra in developing as `Ximmerse.CrossInput` is a compatible input solution.\r\n\r\n### 3.2 Brief Introduction\r\nIn Unity, Ximmerse's joystick (X-COBRA) is abstracted as `DeviceBase`. Information related to the Ximmerse's joystick (e.g. axes, buttons, triggers and IMU) is abstracted as `SensorBase`.\r\n\r\nPrefabs should set up automatically in the SDK. Developers only need to set the corresponding config file under folder `project_folder/Ximmerse SDK/Resources/Configs/` in order to setup Ximmerse's X-COBRA after the formal release.\r\n\r\n`DeviceName` is the device number. Please refer to the `txt` file under the crossponding samples.\r\n\r\n`DeviceAddress` is the serial port address under Windows, which is the Bluetooth address under Android.\r\n\r\n`FmtJoy` refers to the character string of the input formatted key. For example, key `\"Fire1\"` will be formatted to `\"Left_ Fire1\"` in `CrossInputManager` (under `Ximmerse.CrossInput` namespace) when joystick's `FmtJoy` is `\"Left_{0}\"`.\r\n<div style=\"text-align:center\"><img src =\"imgs/DeviceBase.png\" /></div>\r\n\r\nUSB is used for communication of the stereo camera module, which is recommended to setup in the `txt` file under folder `project_folder/Assets/StreamingAssets/Configs/`.\r\n\r\nIn general cases, the listener IP should be set to `192.168.1.1`, the port number to `8873` and assign Pivot properly, which stands for one `Transform` of the stereo camera module in Unity (as the next child transform under the head-mounted display coordinate system in VR SDK). `Sensitivity` is the coordinate scaling value. `PoseName` in the `Points` list is the projected pose name.\r\n<div style=\"text-align:center\"><img src =\"imgs/BlobTracking.png\" /></div>\r\n\r\nRemarks:\r\n- Config files are located under folders below:\r\n\t- Unity editor: `project_folder/Ximmerse SDK/Resources/Configs/`\r\n\t- Windows release version: `release_folder/release_folder_Data/StreamingAssets/Configs/`\r\n\t- Android release version: `Android_SD_card_root_folder/Ximmerse Runtime/Configs/`\r\n\r\n\r\n* * *\r\n## 4 `Ximmerse.CrossInput` Namespace\r\n### 4.1 Overview\r\n**Compatible solution for multiple input.** `CrossInputManager` is the access entry point, which is modified from the official sample `UnityStandardAssets.CrossPlatformInput`. In order to run `Ximmerse.CrossInput` successfully, `GameObject` with `CrossInputManager` component (whose properties source list should also be set up properly) should be added to the game scene.\r\n> Tip: You can turn off `CrossInputManager`'s `useCrossInput` before running so that `CrossInputManager` will use the embedded input APIs of Unity.\r\n\r\nOn the other hand, you can customize other input solutions, such as Razer's Hydra, Xbox 360 controller or Ximmerse's joystick (X-COBRA). Instead of writing different access interfaces for different input solutions, you only need to access the static functions of `CrossInputManager`.\r\n\r\nFor example, assuming you want to acquire the status of the joystick and button (pressed or not), you will need to call `Input.GetAxis(axisName)` and `Input.GetButton(buttonName)` in native Unity programming. With `Ximmerse.CrossInput` input system, they can be easily replaced by `CrossInputManager.GetAxis(axisName)` and `CrossInputManager.GetButton(buttonName)`.\r\n\r\nCurrent input solutions can be divided into two categories: traditional controllers (keyboard & mouse and joystick) and motion controllers (with position and orientation in space). With `Ximmerse.CrossInput`, motion sensing input is abstracted as `VirtualPose` class (with position and orientation in space). You can obtain the reference of the `VirtualPose` by simply calling `CrossInputManager.VirtualPoseReference(name)`.\r\n> Tip: In the `UnityStandardAssets.CrossPlatformInput` sample, joystick and button are abstracted as `VirtualAxis` and `VirtualButton`. Please refer to the [Extensions](#extension) section on how to extend `Ximmerse.CrossInput`.\r\n\r\nIn this SDK, the full preset hierarchy is as follows. To disable one particular input component, simply set `GameObject`'s `active` to `false` on the respective script.\r\n<div style=\"text-align:center\">\r\n<img src =\"imgs/CrossInputManager.png\" /> <img src =\"imgs/CrossInput.png\" />\r\n</div>\r\n\r\n### 4.2 Selected Classes Introduction\r\n#### 4.2.1 `CrossInputManager`\r\n**Input manager, similar to `UnityStandardAssets.CrossPlatformInput`.**\r\n\r\nThe related input APIs of `CrossPlatformInputManager` are as follows:\r\n\r\n| Return Type | Function | Description |\r\n|--------|--------|--------|\r\n|`Boolean`|`AxisExists(String)`|return true while the virtual axis identified by given string exists|\r\n|`Boolean`|`ButtonExists(String)`|return true while the virtual button identified by given string exists|\r\n|`Single`|`GetAxis(String)`|return the value of the virtual axis identified by given string|\r\n|`Single`|`GetAxisRaw(String)`|return the value of the virtual axis identified by given string with no smoothing filtering applied|\r\n|`Boolean`|`GetButton(String)`|return true while the virtual button identified by given string is held down|\r\n|`Boolean`|`GetButtonDown(String)`|return true during the frame the user pressed down the virtual button identified by given string|\r\n|`Boolean`|`GetButtonUp(String)`|return true the first frame the user releases the virtual button identified by given string|\r\n|`Boolean`|`PoseExists(String)`|return true while the virtual pose identified by given string exists|\r\n|`Vector3`|`GetPosePosition(String)`|return the value of the position in the space identified by given string|\r\n|`Quaternion`|`GetPoseRotation(String)`|return the value of the rotation in the space identified by given string|\r\n|`Void`|`RegisterVirtualAxis(VirtualAxis)`|register one virtual axis to CrossInputManager|\r\n|`Void`|`RegisterVirtualButton(VirtualButton)`|register one virtual button to CrossInputManager|\r\n|`Void`|`RegisterVirtualPose(VirtualPose)`|register one virtual pose to CrossInputManager|\r\n|`Void`|`SetAxis(String,Single)`|set the value of the axis identified by given string|\r\n|`Void`|`SetAxisNegative(String)`|set the value of the axis identified by given string to -1|\r\n|`Void`|`SetAxisPositive(String)`|set the value of the axis identified by given string to 1|\r\n|`Void`|`SetAxisZero(String)`|set the value of the axis identified by given string to 0|\r\n|`Void`|`SetButtonDown(String)`|set the virtual button identified by given string to be held down|\r\n|`Void`|`SetButtonUp(String)`|set the virtual button identified by given string to be released|\r\n|`Void`|`SetPose(String,Vector3,Quaternion)`|set the value of the pose identified by given string|\r\n|`Void`|`SetPosePosition(String,Vector3)`|set the value of the position identified by given string|\r\n|`Void`|`SetPoseRotation(String,Quaternion)`|set the value of the rotation identified by given string|\r\n|`Void`|`SetVirtualMousePositionX(Single)`|set the value of x-axis of the virtual mouse|\r\n|`Void`|`SetVirtualMousePositionY(Single)`|set the value of y-axis of the virtual mouse|\r\n|`Void`|`SetVirtualMousePositionZ(Single)`|set the value of z-axis of the virtual mouse|\r\n|`Void`|`UnRegisterVirtualAxis(VirtualAxis)`|un-register one virtual axis|\r\n|`Void`|`UnRegisterVirtualButton(VirtualButton)`|un-register one virtual button|\r\n|`Void`|`UnRegisterVirtualPose(VirtualPose)`|un-register one virtual pose|\r\n|`VirtualAxis`|`VirtualAxisReference(String)`|return the reference of the virtual axis identified by given string|\r\n|`VirtualAxis`|`VirtualAxisReference(Object,String,Boolean)`|return the reference of the virtual axis identified by given string|\r\n|`VirtualButton`|`VirtualButtonReference(String)`|return the reference of the virtual button identified by given string|\r\n|`VirtualButton`|`VirtualButtonReference(Object,String,Boolean)`|return the reference of the virtual button identified by given string|\r\n|`VirtualPose`|`VirtualPoseReference(String)`|return the reference of the virtual pose identified by given string|\r\n|`VirtualPose`|`VirtualPoseReference(Object,String,Boolean)`|return the reference of the virtual pose identified by given string|\r\n\r\nRemarks:\r\n\r\n1. A mouse's axis information can be obtained by `CrossInputManager.mousePosition`. Due to poor user experience, it is not recommended to use traditional mouse as VR input.\r\n\r\n2. Alike `UnityEngine.Input`, `CrossInputManager`'s interface can only be accessed in `MonoBehaviour.Update()`.\r\n\r\n3. The priority of `CrossInputManager` script should be set higher than the normal ones in order to make sure input can be written to `CrossInputManager`'s cache while being called. This can be set in `Edit`$\\rightarrow$`Project Settings`$\\rightarrow$`Script Execution Order`:\r\n<div style=\"text-align:center\"><img src =\"imgs/Inspector.png\" /></div>\r\n\r\n#### 4.2.2 `UnityInput`\r\nYou can write the embedded input of Unity to `CrossInputManager`'s input cache. The embedded input of Unity can be further obtained through `CrossInputManager`.\r\n<div style=\"text-align:center\"><img src =\"imgs/UnityInput.png\" /></div>\r\n\r\n#### 4.2.3 `HandJoystick`\r\n**Input interface to distinguish left and right hands.** It's not easy to distinguish left and right hands as strings are used as keys in `CrossInputManager`. With the handy accessor `HandJoystick`, developers can use formatted strings and the string arrays of input keys to instantiate an instance. Input can be accessed by `HandJoystick.GetAxis(axisName)` and `HandJoystick.GetButton(buttonName)`. Please refer to the following example:\r\n```cpp\r\nstring[] joystickFmts=new string[2]{\"j0_{0}\",\"j1_{0}\"}; // joystick list\r\nstring[] axes=new string[2]{\"Horizontal\",\"Vertical\"}; // axes list\r\nstring[] buttons=new string[4]{\"Fire1\",\"Fire2\",\"Fire3\",\"Jump\"}; // button list\r\nHandJoystick[] joysticks=new HandJoystick[2]{new HandJoystick(),new HandJoystick()}; // HandJoystick list\r\n\r\n// initialize HandJoystick\r\njoysticks[0].InitInput(joystickFmts[0],axes,joystickFmts[0],buttons, \"\");\r\njoysticks[1].InitInput(joystickFmts[1],axes,joystickFmts[1],buttons, \"\");\r\n\r\n// access input through HandJoystick\r\njoysticks[0].GetAxis(\"Horizontal\"); // use short key \"Horizontal\", actual registered key is \"j0_Horizontal\"\r\njoysticks[1].GetButtonDown(\"Fire1\"); // use short key \"Fire1\", actual registered key is \"j1_Fire1\"\r\n```\r\n\r\n### <a name=\"extension\"></a>4.3 Extensions\r\nAs mentioned above, different input solutions are abstracted as `IInputSource` interfaces in SDK. Thus, developers can customize multiple input solutions of their own.\r\n\r\nThe interface function of `IInputSource` is as follows:\r\n```cpp\r\npublic interface IInputSource\r\n{\r\n\t// Methods\r\n\tint EnterInputFrame();\r\n\tint ExitInput();\r\n\tint ExitInputFrame();\r\n\tint InitInput();\r\n\r\n\t// Properties\r\n\tbool enabled {get; set;}\r\n}\r\n```\r\n\r\n| Function  | Description |\r\n|--------|--------|\r\n|`InitInput()`\t|initialize input source, return 0 if successful|\r\n|`ExitInput()`\t|exit input source and release related sources, return 0 if successful|\r\n|`EnterInputFrame()`\t|enter input frame, write corresponding input information to CrossInputManager's input cache, return 0 if successful|\r\n|`ExitInputFrame()`\t|exit input frame, return 0 if successful|\r\n\r\nRemarks:\r\n\r\n1. Input cache refers to the list of `VirtualAxis`, `VirtualButton` and `VirtualPose` of `CrossInputManager`.\r\n\r\n2. Input frame refers to the time stamp when the program reads the input (`MonoBehaviour.Update()`).\r\n\r\nIn order to run in `Ximmerse.CrossInput`, it only needs to implement the `MonoBehaviour` of `IInputSource`'s interface and add it to the property source list of `CrossInputManager`.\r\n\r\nSimilarly, Razer's Hydra can also be used due to its compatibility with `Ximmerse.CrossInput` by adding its SDK `SixenseUnityPlugin` to the project and compatible scipt `Sixense Input.cs` to `CrossInputManager`.\r\n<div style=\"text-align:center\"><img src =\"imgs/SixenseInput.png\" /></div>\r\n\r\n* * *\r\n## 5 Other Namespaces\r\nSome scripts belong to the Utility class. Demos are available for them where you can edit to fit your needs. Some namespaces belong to low level encapsulation of the SDK which in general cases, will not be used in project development.\r\nThere are some other namespaces in this SDK, including:\r\n- `Ximmerse.Animation`: for easy implementation of animation solutions, like `HandAnimator`.\r\n- `Ximmerse.IO`: for IO Stream under Windows and Android and encapsulation of IO tools class.\r\n- `Ximmerse.UI`: for extension of UGUI and the compatible solution of traditional UI and VR UI.\r\n\r\n* * *\r\n## 6 Samples\r\n> Note: all samples can be found in folder `$(ProjectDir)/Assets/Ximmerse SDK/Scenes/`.\r\n\r\n### 6.1 `CrossInputManagerGUI`\r\n**The profiler of `Ximmerse.CrossInput.CrossInputManager`, from which you can clearly see the input status of `CrossInputManager`.**\r\n<div style=\"text-align:center\"><img src =\"imgs/CrossInputManagerGUI.png\" /></div>\r\n\r\n### 6.2 `HandController`\r\nThis sample demonstrates how to obtain the `VirtualPose` and how to control hand stretches using the trigger value.\r\n<div style=\"text-align:center\"><img src =\"imgs/hand.png\" /></div>\r\n\r\n### 6.3 `UnityToXimmerse`\r\nThis sample demonstrates how to quickly transfer a Unity project to `Ximmerse.CrossInput`.\r\n\r\nTransfers can be done by setting `Input` or `CrossPlatformInputManager` to `CrossInputManager` through `using` keyword.\r\n```cpp\r\n// <!-- TODO: only need to modify here\r\n// using UnityStandardAssets.CrossPlatformInput;\r\nusing CrossPlatformInputManager=Ximmerse.CrossInput.CrossInputManager;\r\n// TODO -->\r\n```\r\n\r\nIf the Unity interface is used in this sample, the hierarchy will be\r\n<div style=\"text-align:center\"><img src =\"imgs/UnityInterfaceView.png\" /></div>\r\n\r\nIf the `Ximmerse.CrossInput` interface is used in this sample, the hierarchy will be\r\n<div style=\"text-align:center\"><img src =\"imgs/CrossInputInterfaceView.png\" /></div>\r\n\r\n### 6.4 `HydraToXimmerse`\r\nThis sample demonstrates how to quickly transfer a Razer's Hydra project to `Ximmerse.CrossInput`. Some modifications exist for the interfaces to be accessed.\r\n\r\nIf `SixenseHands` of `SixenseInput SDK` is used in this sample, the hierarchy will be\r\n<div style=\"text-align:center\"><img src =\"imgs/DirectionalLight.png\" /></div>\r\n\r\nIf `HydraToXimmerse` of this SDK is used in this sample, the hierarchy will be\r\n<div style=\"text-align:center\"><img src =\"imgs/DirectionalLight2.png\" /></div>\r\n\r\n1. First remove the original `SixenseInput` and add the preset object of `CrossInputManager` then, check the `As Hand Joystick` checkbox of the compatible `CrossInput`'s `SixenseInput`, `HandJoystick` thus will create two joystick accessors automatically.\r\n<div style=\"text-align:center\"><img src =\"imgs/SixenseInput2.png\" /></div>\r\n2. Remove `SixenseHandsController` script and add the parent transform with `PoseMover` for `Hand-Right` and `Hand-Left` to achieve no rotation shift of the `Transform` controlled by `PoseMover`, i.e. no rotation for the `Transform` controlled by `PoseMover` when the corresponding `VirtualPose` has no rotation. Meanwhile, set `localPosition` of `Hand-Right` and `Hand-Left` to `Vector3.zero`.\r\n<div style=\"text-align:center\">\r\n<img src =\"imgs/HandsController.png\" /> <br/>\r\n<img src =\"imgs/PoseMover.png\" /> <img src =\"imgs/PoseMover2.png\" />\r\n</div>\r\n3. Move the left and right pivots of `SixenseInput` that is compatible to `CrossInput` to where `PoseMover` is.\r\n<div style=\"text-align:center\"><img src =\"imgs/CrossInput2.png\" /></div>\r\n\r\n4. Modify `SixenseHand.cs` to import `Ximmerse.CrossInput` namespace.\r\n\t```cpp\r\n\t// <!-- TODO\r\n\tusing Ximmerse.CrossInput;\r\n\t// TODO -->\r\n\t```\r\n\r\n5. Replace `SixenseInput.Controller` in the script by `HandJoystick`.\r\n\t```cpp\r\n\t// <!-- TODO\r\n\t\t\t//public SixenseInput.Controller m_controller = null;\r\n\t\t\tpublic HandJoystick m_controller;\r\n\t// TODO -->\r\n\t```\r\n\r\n6. Obtain `m_controller` from `HandJoystick.joysticks`, reference 0 for left hand and 1 for right hand.\r\n\t```cpp\r\n\t// <!-- TODO\r\n\t\t\t\t\t//m_controller = SixenseInput.GetController( m_hand );\r\n\t\t\t\t\tm_controller = HandJoystick.joysticks( (int)m_hand-1 );\r\n\t// TODO -->\r\n\t```\r\n\r\n7. When accessing input interface, replace the original `SixenseInput` function with the `HandJoystick` function of Unity style.\r\n\t```cpp\r\n\t// <!-- TODO\r\n\t\t\t\t//if ( m_controller.GetButton(SixenseButtons.ONE) ) {\r\n\t\t\t\tif ( m_controller.GetButton(\"ONE\") ) {\r\n\t\t\t\t\t// do something\r\n\t\t\t\t}\r\n\t// TODO -->\r\n\t```\r\n\r\n8. Map trigger value to axes and buttons, i.e. `HandJoystick.GetAxis(triggerName)` and `HandJoystick.GetButton(triggerName)`.\r\n\t```cpp\r\n\t// <!-- TODO\r\n\t\t\t\t//float fTriggerVal = m_controller.Trigger;\r\n\t\t\t\tfloat fTriggerVal = m_controller.GetAxis(\"TRIGGER\");\r\n\t// TODO -->\r\n\t```\r\n\r\n9. Ensure that `triggerName` is not a constant. It should be consistent with the crossponding value of `Ximmerse.CrossInput.CrossInputManager`. It's more convenient to obtain the information of given joystick from multiple ones by replacing the full key of `CrossInputManager` with short keys.\r\n\r\n* * *\r\n## 7 Developing with Gear VR\r\n### 7.1 Hardware Requirement\r\n1. Ximmerse X-Hawk\r\n2. Ximmerse X-Hawk USB Connector\r\n3. Gear VR2\r\n4. Samsung mobile phone: Galaxy S6\r\n<div style=\"text-align:center\">\r\n<img src =\"imgs/GEAR_VR_connect.png\" width=\"500\" />\r\n</div>\r\n\r\n### 7.2 Steps\r\n1. Enable developer mode in Galaxy S6. This can be done in `Settings` `-->` `Device` `-->` `Applications` `-->` `Application manager` `-->` `Gear AR Service` `-->` `Storage` `-->` `MANAGE STORAGE` `-->` `Developer` `-->` `Developer mode`.\r\n\t>Tip: If you do not see the `Developer mode` option in `Gear AR Service`, tap `VR Server Version` at least 6 times. By re-entering the dialog, you will be able to see it.\r\n\r\n\t<div style=\"text-align:center\"><img src =\"imgs/DeveloperMode.png\" /></div>\r\n2. Connect the X-Hawk's USB port C to a power bank.\r\n3. Connect the X-Hawk's USB port A to the X-Hawk.\r\n4. Connect the X-Hawk's USB port B to the Galaxy S6. Wait until `Choose an app for the USB device` dialog pops up. Note that all the available apps that use Ximmerse's SDK will be displayed here.\r\n<div style=\"text-align:center\"><img src =\"imgs/App.png\" /></div>\r\n\r\n\t> Tip: If the `Choose an app for the USB device` dialog does not pop up after a while,  you will need to clear the cache of the previous apps that use Ximmerse's SDK. This can be done in `Settings` `-->` `Device` `-->` `Applications` `-->` `Default applications` `-->` `Clear defaults` `-->` `CLEAR`.\r\n\t> <div style=\"text-align:center\"><img src =\"imgs/Clear.png\" /></div>\r\n\r\n5. Choose any of the available apps to continue. Take `Ximmerse SDK 1.00` for example, select it and click the `ALWAYS` option to continue. You will be able to see the stereo camera demo running on the Galaxy S6.\r\n<div style=\"text-align:center\"><img src =\"imgs/App2.png\" /></div>\r\n<div style=\"text-align:center\"><img src =\"imgs/DualCamera.png\" /></div>\r\n6. Remove port B from the Galaxy S6 and connect it to the Gear VR.\r\n7. Insert Galaxy S6 into Gear VR. You will be able to see the stereo camera demo running on the Galaxy S6.\r\n8. You are now ready to enjoy VR on the Gear VR.\r\n\r\n> Tip: If you want to switch to other apps, for example from `Ximmerse SDK 1.00` to `UsbListener`, you will also need to clear the cache of previous apps that used Ximmerse's SDK as mentioned previously.\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}